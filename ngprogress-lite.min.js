/*! ngprogress-lite - v1.0.0 (http://labs.voronianski.com/ngprogress-lite.js) */
angular.module("ngProgressLite",[]).provider("ngProgressLite",function(){"use strict";var settings=this.settings={minimum:.08,speed:300,ease:"ease",trickleRate:.02,trickleSpeed:500,template:'<div class="ngProgressLite"><div class="ngProgressLiteBar"><div class="ngProgressLiteBarShadow"></div></div></div>'};this.$get=["$document","$timeout",function($document,$timeout){var $progressBarEl,status,cleanForElement,$body=$document.find("body"),privateMethods={render:function(){return this.isRendered()?$progressBarEl:($body.addClass("ngProgressLite-on"),$progressBarEl=angular.element(settings.template),$body.append($progressBarEl),cleanForElement=!1,$progressBarEl)},remove:function(){$body.removeClass("ngProgressLite-on"),$progressBarEl.remove(),cleanForElement=!0},isStarted:function(){return"number"==typeof status},isRendered:function(){return $progressBarEl&&$progressBarEl.children().length>0&&!cleanForElement},trickle:function(){return publicMethods.inc(Math.random()*settings.trickleRate)},clamp:function(num,min,max){return min>num?min:num>max?max:num},toBarPercents:function(num){return 100*num},positioning:function(num,speed,ease){return{width:this.toBarPercents(num)+"%",transition:"all "+speed+"ms "+ease}}},publicMethods={set:function(num){privateMethods.isStarted();var $progress=privateMethods.render();return num=privateMethods.clamp(num,settings.minimum,1),status=1===num?null:num,$timeout(function(){$progress.children().css(privateMethods.positioning(num,settings.speed,settings.ease))},100),1===num&&$timeout(function(){$progress.css({transition:"all "+settings.speed+"ms linear",opacity:0}),$timeout(function(){privateMethods.remove()},settings.speed)},settings.speed),this},start:function(){status||this.set(0);var worker=function(){$timeout(function(){status&&(privateMethods.trickle(),worker())},settings.trickleSpeed)};return worker(),this},inc:function(amount){var n=status;return n?("number"!=typeof amount&&(amount=(1-n)*privateMethods.clamp(Math.random()*n,.1,.95)),n=privateMethods.clamp(n+amount,0,.994),this.set(n)):this.start()},done:function(){this.inc(.3+.5*Math.random()).set(1)}};return publicMethods}]});